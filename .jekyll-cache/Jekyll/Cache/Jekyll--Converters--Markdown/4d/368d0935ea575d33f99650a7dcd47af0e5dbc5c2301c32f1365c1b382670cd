I"d<p>Installing You Need A Budget (YNAB) on the average Linux distro is a no-brainer, but Arch Linux requires a few extra strokes to get purring.</p>

<p>This is primarily due to Arch’s minimalist foundation, as well as YNAB being reluctant about running in 64 bit.</p>

<p>I had to do six simple steps:</p>

<ol>
  <li><a href="#enable-multilib">Enable Multilib</a></li>
  <li><a href="#sync-pacman">Sync Pacman</a></li>
  <li><a href="#install-wine">Install Wine &amp; friends</a></li>
  <li><a href="#install-open-gl">Install 32-bit Open GL for video card</a></li>
  <li><a href="#install-corefonts">Install Windows Corefonts</a></li>
  <li><a href="#install-ynab">Install YNAB</a></li>
</ol>

<p><a name="enable-multilib"></a></p>

<h3 id="enable-multilib">Enable multilib</h3>

<p>Enable 32-bit package repositories (multilib) for pacman so it finds wine:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>vi /etc/pacman.conf
</code></pre></div></div>

<p>Change:</p>

<pre><code class="language-aconf">\#[multilib-testing]
Include = /etc/pacman.d/mirrorlist
\#[multilib]
Include = /etc/pacman.d/mirrorlist
</code></pre>

<p>to:</p>

<pre><code class="language-aconf">[multilib-testing]
Include = /etc/pacman.d/mirrorlist
[multilib]
Include = /etc/pacman.d/mirrorlist
</code></pre>

<p><a name="sync-pacman"></a></p>

<h3 id="sync-pacman">Sync Pacman</h3>

<p>Sync pacman with the newly added multilib repositories:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>pacman <span class="nt">-Sy</span>
</code></pre></div></div>

<p><a name="install-wine"></a></p>

<h3 id="install-wine--friends">Install Wine &amp; Friends</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>pacman <span class="nt">-S</span> wine
<span class="nv">$ </span><span class="nb">sudo </span>pacman <span class="nt">-S</span> lib32-lcms lib32-lcms2
<span class="nv">$ </span><span class="nb">sudo </span>pacman <span class="nt">-S</span> samba wine-mono wine_gecko lib32-gnutls lib32-mpg123 lib32-ncurses
</code></pre></div></div>

<p><a name="install-open-gl"></a></p>

<h3 id="install-32-bit-open-gl">Install 32-bit Open GL</h3>

<p>This had to be done because I got an error: <em>“X Error of failed request:  BadValue (integer parameter out of range for operation)”</em> while trying to launch YNAB.</p>

<p>Installation of 32-bit Open GL is not only optional when setting up your video card drivers in Arch for the first time, but the 32-bit repos were also disabled by default.</p>

<p>I have an Nvidia card, so I had to install the 32-bit Open GL library (which is also from the multilib repositories) in addition the nvidia drivers already installed.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>pacman <span class="nt">-S</span> lib32-nvidia-libgl
</code></pre></div></div>
<p><a name="install-corefonts"></a></p>

<h3 id="install-windows-corefonts">Install Windows Corefonts</h3>

<p>This step is required because the tooltips in YNAB will show strange characters. In order to install the corefonts, you have to install winetricks. Winetricks has to be installed from the <a href="https://aur.archlinux.org/packages/winetricks-git/">AUR</a>. I use a preexisting ~/builds folder for building AUR packages in:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$mkdir</span> ~/builds
<span class="nv">$ </span><span class="nb">cd</span> ~/builds/
<span class="nv">$ </span>curl <span class="nt">-LO</span> https://aur.archlinux.org/cgit/aur.git/snapshot/winetricks-git.tar.gz
<span class="nv">$ </span><span class="nb">tar</span> <span class="nt">-xvf</span> winetricks-git.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>winetricks-git
<span class="nv">$ </span>makepkg <span class="nt">-sri</span>
</code></pre></div></div>

<p>And then install the Corefonts using Winetricks:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ WINEPREFIX</span><span class="o">=</span>~/.wine-YNAB <span class="nv">WINEARCH</span><span class="o">=</span>win32 winetricks corefonts
</code></pre></div></div>
<p><a name="install-ynab"></a></p>

<h3 id="install-ynab">Install YNAB</h3>

<p>Download the YNAB trial from their site (link pending). Then go to the folder you downloaded it in and:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ WINEARCH</span><span class="o">=</span>win32 <span class="nv">WINEPREFIX</span><span class="o">=</span>~/.wine-YNAB wine YNAB<span class="se">\ </span>4_4.3.352_Setup.exe
</code></pre></div></div>
<p><a name="inspiration"></a></p>

<h2 id="inspiration">Inspiration</h2>

<p>This is a reduced demi-glace of <a href="https://push.cx/2015/installing-you-need-a-budget-ynab-on-arch-linux">push.cx</a>, seasoned with my own detailed commands for every step of the way, and a touch of Open GL info gleaned from <a href="https://wiki.archlinux.org/index.php/NVIDIA#Installing">Arch’s NVIDIA wiki</a>.</p>
:ET